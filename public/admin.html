<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>RetroGamer · Admin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"/>
  <link rel="stylesheet" href="/css/admin.css" />
</head>
<body>
  <div class="admin-page">
    <header class="admin-topbar">
      <div class="admin-topbar-left">
        <span class="admin-topbar-logo-main">RetroGamer</span>
        <span class="admin-topbar-logo-sub">ADMIN</span>
      </div>

      <nav class="admin-topbar-nav">
        <button
          type="button"
          class="admin-nav-link admin-nav-link-active"
          data-view="clientes"
        >
          <span class="material-symbols-outlined">groups</span>
          <span>Clientes</span>
        </button>

        <button
          type="button"
          class="admin-nav-link"
          data-view="articulos"
        >
          <span class="material-symbols-outlined">sports_esports</span>
          <span>Productos</span>
        </button>

        <button
          type="button"
          class="admin-nav-link"
          data-view="categorias"
        >
          <span class="material-symbols-outlined">category</span>
          <span>Categorías</span>
        </button>
      </nav>

      <div class="admin-topbar-right">
        <a href="/" class="btn btn-outline" id="btnIrTienda" target="_blank" rel="noopener noreferrer">
          <span class="material-symbols-outlined">storefront</span>
          <span>Storefront</span>
        </a>

        <button id="btnLogout" class="btn-outline-danger">
          <span class="material-symbols-outlined">logout</span>
          <span>Cerrar sesión</span>
        </button>
      </div>
      
        
    </header>

    <main class="admin-main">
      <header class="admin-header">
        <h1>RetroGamer · <span id="adminTituloVista">Clientes</span></h1>
        <p class="admin-header-sub">
          Panel de administración de tu tienda RetroGamer.
        </p>
      </header>

      <section id="view-clientes" class="admin-view">
        <div class="layout">
          <section class="card">
            <div class="card-header">
              <h2 id="formTitulo">Nuevo cliente</h2>
              <span class="pill" id="modoEtiqueta">Modo creación</span>
            </div>
            <p class="subtext">Registra o edita clientes.</p>

            <form id="formCliente" autocomplete="off">
              <label for="telefono">Teléfono (10 dígitos)</label>
              <input type="text" id="telefono" maxlength="10" placeholder="Ej. 9612345678" />

              <label for="nombre">Nombre completo</label>
              <input type="text" id="nombre" placeholder="Nombre completo" />

              <label for="correo">Correo electrónico</label>
              <input type="email" id="correo" placeholder="correo@ejemplo.com" />

              <div class="field-row">
                <div>
                  <label for="password">Contraseña</label>
                  <input type="password" id="password" placeholder="Mínimo 8 caracteres" />
                </div>
                <div>
                  <label for="password2">Confirmar contraseña</label>
                  <input type="password" id="password2" placeholder="Repite la contraseña" />
                </div>
              </div>

              <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                  <span class="material-symbols-outlined">save</span>
                  <span id="btnGuardarTexto">Guardar cliente</span>
                </button>
                <button type="button" class="btn btn-secondary" id="btnCancelar">
                  <span class="material-symbols-outlined">keyboard_return</span>
                  Cancelar
                </button>
              </div>
            </form>

            <div id="mensaje" class="status"></div>
          </section>

          <section class="card">
            <div class="card-header">
              <h2>Listado de clientes</h2>
            </div>

            <div class="list-header">
              <div class="search-box">
                <span class="material-symbols-outlined">search</span>
                <input
                  type="text"
                  id="buscador"
                  placeholder="Buscar por teléfono, nombre o correo."
                />
              </div>
              <div class="count-chip">
                Total: <span id="totalClientes">0</span>
              </div>
            </div>
            
            <div class="table-scroll">
            <table>
              <thead>
                <tr>
                  <th>Teléfono</th>
                  <th>Nombre</th>
                  <th>Correo</th>
                  <th>Registrado</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody id="tbodyClientes"></tbody>
            </table>
            </div>

            <div id="estadoTabla" class="empty-state" style="display:none;">
              No se encontraron clientes. Agrega uno nuevo o ajusta el filtro de búsqueda.
            </div>
          </section>
        </div>
      </section>

      <!-- VISTA ARTÍCULOS -->
      <section id="view-articulos" class="admin-view hidden">
        <div class="layout">
          <!-- Formulario Artículo -->
          <section class="card">
            <div class="card-header">
              <h2 id="formArticuloTitulo">Nuevo producto</h2>
              <span class="pill" id="modoArticuloEtiqueta">Modo creación</span>
            </div>
            <p class="subtext">Registra o edita productos del catálogo.</p>

            <form id="formArticulo" autocomplete="off" enctype="multipart/form-data">
              <label for="artNombre">Nombre del producto</label>
              <input type="text" id="artNombre" placeholder="Ej. God of War (PS4)" />

              <label for="artDescripcion">Descripción</label>
              <textarea
                id="artDescripcion"
                rows="3"
                placeholder="Descripción breve del producto"
                style="width:100%; padding:8px 9px; border-radius:10px; border:1px solid var(--border); background:rgba(15,23,42,0.9); color:var(--text); font-size:0.85rem; margin-bottom:8px; resize: vertical;"
              ></textarea>

              <div class="field-row">
                <div>
                  <label for="artPrecio">Precio (MXN)</label>
                  <input type="number" step="0.01" id="artPrecio" placeholder="Ej. 799.00" />
                </div>
                <div>
                  <label for="artExistencia">Existencia</label>
                  <input type="number" id="artExistencia" placeholder="Ej. 10" />
                </div>
              </div>

              <div class="select-row">
                <div>
                  <label for="artCategoriaPadre">Categoría</label>
                  <select id="artCategoriaPadre">
                    <option value="">categoría</option>
                  </select>
                </div>
                <div>
                  <label for="artSubcategoria">Subcategoría (opcional)</label>
                  <select id="artSubcategoria" disabled>
                    <option value="">subcategoría</option>
                  </select>
                </div>
              </div>

              <label for="artImagen">Imagen del producto</label>
              <input type="file" id="artImagen" accept="image/*" />

              <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                  <span class="material-symbols-outlined">save</span>
                  <span id="btnArticuloGuardarTexto">Guardar producto</span>
                </button>
                <button type="button" class="btn btn-secondary" id="btnArticuloCancelar">
                  <span class="material-symbols-outlined">keyboard_return</span>
                  Cancelar
                </button>
              </div>
            </form>

            <div id="mensajeArticulo" class="status"></div>
          </section>

          <!-- Tabla Artículos -->
          <section class="card">
            <div class="card-header">
              <h2>Listado de productos</h2>
            </div>

            <div class="list-header">
              <div class="search-box">
                <span class="material-symbols-outlined">search</span>
                <input
                  type="text"
                  id="buscadorArticulos"
                  placeholder="Buscar por código o nombre."
                />
              </div>
              <div class="count-chip">
                Total: <span id="totalArticulos">0</span>
              </div>
            </div>

            <div class="table-scroll">
              <table>
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Código</th>
                    <th>Nombre</th>
                    <th>Precio</th>
                    <th>Exist.</th>
                    <th>Imagen</th>
                    <th>Acciones</th>
                  </tr>
                </thead>
                <tbody id="tbodyArticulos"></tbody>
              </table>
            </div>

            <div id="estadoTablaArticulos" class="empty-state" style="display:none;">
              No se encontraron productos. Agrega uno nuevo o ajusta el filtro de búsqueda.
            </div>
          </section>
        </div>
      </section>

      <!-- VISTA CATEGORÍAS -->
      <section id="view-categorias" class="admin-view hidden">
        <div class="layout">
          <!-- Formulario Categoría -->
          <section class="card">
            <div class="card-header">
              <h2 id="formCategoriaTitulo">Nueva categoría</h2>
              <span class="pill" id="modoCategoriaEtiqueta">Modo creación</span>
            </div>
            <p class="subtext">Crea y organiza las categorías del catálogo.</p>

            <form id="formCategoria" autocomplete="off">
              <label for="catNombre">Nombre de la categoría</label>
              <input
                type="text"
                id="catNombre"
                placeholder="Ej. Juegos PS4"
              />
              <input
                type="hidden"
                id="catSlug"
                placeholder="ej. juegos-ps4"
              />
              
              <label for="catParentId">Categoría padre</label>
              <select id="catParentId" class="select-control">
              <option value="">Sin categoría padre</option>
              </select>

              <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                  <span class="material-symbols-outlined">save</span>
                  <span id="btnCategoriaGuardarTexto">Guardar categoría</span>
                </button>
                <button type="button" class="btn btn-secondary" id="btnCategoriaCancelar">
                  <span class="material-symbols-outlined">keyboard_return</span>
                  Cancelar
                </button>
              </div>
            </form>

            <div id="mensajeCategoria" class="status"></div>
          </section>

          <!-- Tabla Categorías -->
          <section class="card">
            <div class="card-header">
              <h2>Listado de categorías</h2>
            </div>

            <div class="list-header">
              <div class="search-box">
                <span class="material-symbols-outlined">search</span>
                <input
                  type="text"
                  id="buscadorCategorias"
                  placeholder="Buscar por nombre o slug."
                />
              </div>
              <div class="count-chip">
                Total: <span id="totalCategorias">0</span>
              </div>
            </div>

            <div class="table-scroll">
              <table>
                <thead>
                  <tr>
                    <th>Nombre</th>
                    <th>Productos</th>
                    <th>Acciones</th>
                  </tr>
                </thead>
                <tbody id="tbodyCategorias"></tbody>
              </table>
            </div>

            <div id="estadoTablaCategorias" class="empty-state" style="display:none;">
              No se encontraron categorías. Agrega una nueva o ajusta el filtro de búsqueda.
            </div>
          </section>
        </div>
      </section>   
    </main>
  </div>

  <script src="/js/admin-shell.js"></script>
  <script src="/js/admin-clientes.js"></script>
  <script src="/js/admin-articulos.js"></script>
  <script src="/js/admin-categorias.js"></script>
</body>
</html>

